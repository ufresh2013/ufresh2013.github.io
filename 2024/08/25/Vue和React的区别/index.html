
<!DOCTYPE html>
<html lang="">


  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#202020">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    
        <meta name="keywords" content="">
        

          
              <meta name="description" content="ğŸ¤” Vueå’ŒReactçš„åŒºåˆ«">
              

                <link rel="icon" type="image/x-icon" href="data:image/png;base64,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">
                <title>
                  ğŸ¤” Vueå’ŒReactçš„åŒºåˆ« [ å¼€å‘ç¬”è®° ]
                </title>
                
                  <!-- stylesheets list from config.yml -->
                  
                    <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
                    
                    <link rel="stylesheet" href="/css/microb.css">
                    
                      
  </head>

<body>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
        <div class="tab">
            <a href="/"><img src="/left.png" /></a>
            <span><a href="/">å¼€å‘ç¬”è®°</a></span>
            <!-- <span><a class="tab-search" href="/search/">æœç´¢</a></span> -->
            
              <span><a class="tab-title" id="#Browser" href="/#Browser">Browser</a></span>
            
              <span><a class="tab-title" id="#Bug" href="/#Bug">Bug</a></span>
            
              <span><a class="tab-title" id="#CSS" href="/#CSS">CSS</a></span>
            
              <span><a class="tab-title" id="#HTML" href="/#HTML">HTML</a></span>
            
              <span><a class="tab-title" id="#HTTP" href="/#HTTP">HTTP</a></span>
            
              <span><a class="tab-title" id="#JS" href="/#JS">JS</a></span>
            
              <span><a class="tab-title" id="#LeetCode" href="/#LeetCode">LeetCode</a></span>
            
              <span><a class="tab-title" id="#NodeJS" href="/#NodeJS">NodeJS</a></span>
            
              <span><a class="tab-title" id="#Other" href="/#Other">Other</a></span>
            
              <span><a class="tab-title" id="#Work" href="/#Work">Work</a></span>
            
              <span><a class="tab-title" id="#éšç¬”" href="/#éšç¬”">éšç¬”</a></span>
            
          </div>
      
  <div id="toc" class="toc-article">
    <!--<strong class="toc-title">ç›®å½•</strong>-->
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Vue-å’Œ-React-çš„åŒºåˆ«"><span class="toc-text">1. Vue å’Œ React çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Vue2"><span class="toc-text">2. Vue2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-React-Class-Component"><span class="toc-text">3. React(Class Component)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-React16-Function-Component-Hooks"><span class="toc-text">3. React16 (Function Component + Hooks)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-å‡½æ•°ç»„ä»¶"><span class="toc-text">3.1 å‡½æ•°ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Hooks"><span class="toc-text">3.2 Hooks</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Vue3-Compsition-API"><span class="toc-text">4. Vue3 Compsition API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
  </div>


<div class="section">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        ğŸ¤” Vueå’ŒReactçš„åŒºåˆ«
      </h1>
      
      <time class="time" datetime="2024-08-25T06:07:49.000Z">
        2024-08-25
      </time>
      
      <hr>
    </header>
    <div class="post-content">
      <blockquote>
<p>éƒ½æ˜¯MVCæ•°æ®é©±åŠ¨çš„æ¡†æ¶ï¼ŒVueå’ŒReactçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>æœ¬æ–‡ä¸€ç®©ç­æ€»ç»“Vue2, Vue3, React, React Hooksçš„ç‰¹ç‚¹å’ŒåŒºåˆ«~</p>
</blockquote>
<h3 id="1-Vue-å’Œ-React-çš„åŒºåˆ«"><a href="#1-Vue-å’Œ-React-çš„åŒºåˆ«" class="headerlink" title="1. Vue å’Œ React çš„åŒºåˆ«"></a>1. Vue å’Œ React çš„åŒºåˆ«</h3><p>å¯ä»¥æ€»ç»“ä¸ºè¿™å‡ ç‚¹ï¼š</p>
<p><strong>1. ä»£ç ç»„ç»‡æ–¹å¼ä¸åŒ</strong></p>
<ul>
<li>React å…¨JSå†™æ³•ï¼Œè‡ªæˆä¸€ä½“ã€‚React æ³¨é‡ç®€å•Simpleï¼Œæœºåˆ¶çš„ç®€å•ã€‚Reactçš„å‡½æ•°å¼ç»„ä»¶ï¼ˆFCï¼‰å°±å¾ˆ Simpleï¼ŒFC æœ¬è´¨ä¸Šå°±æ˜¯æ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™æŠŠæ•´ä¸ªå‡½æ•°é‡æ–°è·‘ä¸€éï¼Œè¿™æä¾›äº†å¾ˆå¤šå¯èƒ½æ€§ã€‚</li>
<li>Vueåˆ†ç¦»äº†<code>&lt;template&gt;</code>å’Œ<code>&lt;script&gt;</code>ï¼Œé€»è¾‘å’Œæ¨¡æ¿åˆ†ç¦»ï¼ŒåŠ ä¸Šå¤§é‡å°è£…ç¨‹åº¦æ›´é«˜çš„APIã€‚è™½ç„¶Vue3åŠ å…¥äº†æ›´çµæ´»çš„Composition APIï¼Œä½†æ˜¯å®ƒæœ¬è´¨è¿˜æ˜¯opitoné…ç½®å¼çš„å†™æ³•ã€‚</li>
</ul>
<p><br></p>
<p><strong>2. å“åº”å¼çš„å†™æ³•ä¸åŒ</strong></p>
<ul>
<li><p>Vue ç”¨ <code>state = newState</code> æ¥é€šçŸ¥å˜æ›´ï¼Œæ›´ç¬¦åˆç›´è§‰ã€‚<br>æ›´ç¬¦åˆå¤§å®¶å¿ƒç›®ä¸­å“åº”å¼çš„å†™æ³•ã€‚ä½†æ˜¯æ— è®ºæ˜¯Vue2ä¸­ <code>this.foo = a</code>ï¼Œè¿˜æ˜¯ Vue3 ä¸­ <code>foo.value = a</code> çš„å†™æ³•ï¼Œéƒ½ä¸èƒ½å®Œå…¨è¾¾åˆ° <code>state = newState</code> çš„æ•ˆæœã€‚éƒ½æœ‰è¦é¢å¤–å¤„ç†çš„åœ°æ–¹ï¼ŒVue2ä¸­ç»™ <code>data</code> æ–°å¢å±æ€§ï¼Œæ•°ç»„æ“ä½œéœ€è¦é¢å¤–çš„APIã€‚Vue3ä¸­çš„ <code>.value</code> å†™æ³•ä¸å¤Ÿç›´è§‚ï¼Œæ‹†åˆ†äº† <code>ref</code> å’Œ <code>reactive</code> ä¸¤ç§ç±»å‹ï¼Œå“åº”å¼ä¸¢å¤±<code>toRef</code>ç­‰é—®é¢˜ä¹Ÿå¾ˆè®©äººå¾ˆå›°æƒ‘ã€‚</p>
</li>
<li><p>Reactæ˜¾å¼è°ƒç”¨ <code>setState(newState)</code> æ¥é€šçŸ¥å˜æ›´ã€‚<br>å½“ <code>state</code> æ˜¯å¤æ‚å¯¹è±¡æ—¶ï¼Œå¤åˆ¶ä¸€ä¸ªå…¨æ–°çš„å‰¯æœ¬ï¼Œä¿®æ”¹å®ƒï¼Œæ˜¯ä¸€ä»¶éº»çƒ¦çš„äº‹ã€‚ä¸è¿‡ React ä¹Ÿä¸æƒ³ç®¡è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæ¨èä½ ç”¨ ImmerJS æ¥å¤„ç†ã€‚</p>
</li>
</ul>
<p><br></p>
<p><strong>3. é‡ç»˜æ€§èƒ½æ¶ˆè€—ä¸åŒï¼ˆå®ç°å“åº”å¼æ–¹å¼ä¸åŒï¼‰</strong><br><em>InnerHTML vs Virtual Dom</em></p>
<ul>
<li>innerHTML:  render html string + é‡æ–°åˆ›å»ºæ‰€æœ‰ DOM å…ƒç´ </li>
<li>Virtual DOM: render Virtual DOM + diff + ç‚¹å¯¹ç‚¹çš„ DOM æ›´æ–°<br>Virtual DOM render + diff æ˜¾ç„¶æ¯”æ¸²æŸ“ html å­—ç¬¦ä¸²è¦æ…¢ï¼Œä½†æ˜¯ï¼å®ƒä¾ç„¶æ˜¯çº¯ js å±‚é¢çš„è®¡ç®—ï¼Œæ¯”èµ·åé¢çš„ DOM æ“ä½œæ¥è¯´ï¼Œä¾ç„¶ä¾¿å®œäº†å¤ªå¤šã€‚</li>
</ul>
<p><strong>ä»å®ç°å“åº”å¼æ–¹å¼æ¥çœ‹ï¼š</strong></p>
<ul>
<li>ä¾èµ–æ”¶é›†æ˜¯Vueçš„ç‰¹ç‚¹ï¼ŒVueç”¨ <code>proxy</code> , <code>Object.defineProperty</code> å®ç°ä¾èµ–æ”¶é›†ï¼Œä¾èµ–è¿½è¸ªã€‚<br>ä¾èµ–æ”¶é›†æä¾›äº†ç‚¹å¯¹ç‚¹ç²’åº¦çš„æ›´æ–°è§¦å‘ï¼Œè€Œreactåªèƒ½ä»¥ç»„ä»¶ä¸ºç²’åº¦è§¦å‘diff</li>
<li>Reactæ²¡æœ‰ä¾èµ–æ”¶é›†ï¼Œè€Œæ˜¯åœ¨ <code>setState</code> åé€šè¿‡UI Treeä¸€å±‚ä¸€å±‚å¾€ä¸‹æ›´æ–°æ¸²æŸ“ã€‚<br>å½“å±‚çº§è¾ƒé«˜çš„ <code>state</code> å˜åŒ–æ—¶ï¼Œä¼šå¼•èµ·å¤§é‡ç»„ä»¶çš„æ›´æ–°ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒReact æå‡ºäº† Fiber æ¥å¤„ç†è®¡ç®—é‡å¤§çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰äº¤äº’å“åº”é—´éš™çš„é—®é¢˜ã€‚åŒæ—¶æä¾›äº† <code>useMemo</code>, <code>useCallback</code> å…è®¸ä½ ç¼“å­˜ç»„ä»¶ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚</li>
</ul>
<p><br></p>
<p><strong>4. render æ¸²æŸ“å†™æ³•ä¸åŒ</strong><br>template å’Œ JSX éƒ½æ˜¯ render çš„ä¸€ç§è¡¨ç°å½¢å¼ã€‚</p>
<ul>
<li>React çš„ JSX èƒ½å®Œå…¨èåˆåˆ°JSä¸­ï¼Œå…·æœ‰æ›´é«˜çš„çµæ´»æ€§ï¼Œåœ¨å¤æ‚çš„ç»„ä»¶ä¸­ï¼Œæ›´å…·æœ‰ä¼˜åŠ¿ã€‚</li>
<li>template å…¶å®æ˜¯å¾€ä¸Šå°è£…äº†ä¸€å±‚ï¼Œç›¸åŒçš„é€»è¾‘ä»£ç é‡æ›´å°‘ï¼Œæ›´ç®€å•ç›´è§‚ã€æ›´å¥½ç»´æŠ¤ã€‚templateå¯ä»¥æä¾›æ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–ï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆè´´åˆéœ€æ±‚ï¼Œä¸ä¼šè§‰å¾—ä¸å¤Ÿç”¨ã€‚</li>
</ul>
<p><br></p>
<p><strong>5. API æä¾›çš„åŠŸèƒ½ä¸åŒ</strong></p>
<ul>
<li>React Hooks å¯¥å¯¥å‡ ä¸ªAPIï¼ŒHooks + Effect å°±èƒ½æ»¡è¶³æ‰€æœ‰éœ€æ±‚ï¼Œçµæ´»å·§å¦™ï¼Œéœ€è¦ä½ ä¸€ç‚¹ç‚¹å»ç»„è£…ã€‚</li>
<li>Vue åˆ™æ˜¯æä¾›äº†å¤§é‡çš„ APIã€‚Options API æœ‰ä¸å°‘å¯å–ä¹‹å¤„ï¼Œdata, lifecycle, computed, methods, watch å¿…é¡»åˆ†é—¨åˆ«ç±»çš„æ”¾å¥½ã€‚é¿å…äº†æ–°æ‰‹å°†åŠŸèƒ½å’Œé€»è¾‘æ‘†çš„ä¹±ä¸ƒå…«ç³Ÿã€‚Vue2ä»¥å…¶æä½çš„å…¥é—¨é—¨æ§›å’Œæå…¶ç›´è§‚çš„è¯­æ³•ï¼Œå¸®åŠ©ä½ å®Œæˆé¡µé¢å¼€å‘ã€‚é™¤äº†è¿™äº›ï¼Œè¿˜æœ‰provide/inject, keep-alive, v-model, è¿™äº›APIæ˜¯å‹å¥½çš„ï¼Œé¢å¯¹æ›´å¤æ‚çš„åœºæ™¯ï¼Œå®ƒä»¬åƒä¸€ä¸ªä¸ªæœ€ä½³å®è·µï¼Œéœ€è¦ä½ ä¸€ä¸ªä¸ªå»ç†Ÿæ‚‰ã€‚</li>
</ul>
<p>å›å¿†ä¸€ä¸‹å®ƒä»¬éƒ½æ˜¯æ€ä¹ˆç”¨çš„ï¼Ÿ</p>
<h3 id="2-Vue2"><a href="#2-Vue2" class="headerlink" title="2. Vue2"></a>2. Vue2</h3><p>2016å¹´Vue2å‘å¸ƒã€‚<br>Vue2ä½¿ç”¨ <code>Options API</code> é…ç½®åŒ–çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œæ­é…å„ç§APIã€æŒ‡ä»¤ï¼Œå¾ˆå®¹æ˜“æ»¡è¶³äº†å„ç§é¡µé¢éœ€æ±‚ï¼Œä¸Šæ‰‹å®¹æ˜“ï¼Œç®€å•å¥½ç”¨ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯ä¸ª`.vue`æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123; </span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123; </span><br><span class="line">    increment() &#123; </span><br><span class="line">      <span class="keyword">this</span>.count++ </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-React-Class-Component"><a href="#3-React-Class-Component" class="headerlink" title="3. React(Class Component)"></a>3. React(Class Component)</h3><p>å’Œ Vue2 åŒæœŸçš„æ˜¯ React çš„ Class Componentã€‚<br>æ¯ä¸ª UI ç»„ä»¶æ—¢æ˜¯ <code>&lt;Component /&gt;</code> è¿™æ ·å¾ˆHTMLçš„å†™æ³•ï¼Œåˆæ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ã€‚<br>ç±»(class)è®©ç»„ä»¶çš„æ•°æ®å’Œæ“ä½œé€»è¾‘å°è£…åœ¨ä¸€èµ·ï¼Œæœ€åè¿”å›äº†JSXï¼Œåˆè¡¨è¾¾äº†è¿™æ˜¯ä¸€ä¸ªUIç»„ä»¶ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">name</span> : <span class="string">''</span> &#125;</span><br><span class="line">  </span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">name</span>: <span class="string">'hh'</span>&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-React16-Function-Component-Hooks"><a href="#3-React16-Function-Component-Hooks" class="headerlink" title="3. React16 (Function Component + Hooks)"></a>3. React16 (Function Component + Hooks)</h3><p>2019å¹´ React æ¨å‡º Hooks å†™æ³•ã€‚</p>
<h4 id="3-1-å‡½æ•°ç»„ä»¶"><a href="#3-1-å‡½æ•°ç»„ä»¶" class="headerlink" title="3.1 å‡½æ•°ç»„ä»¶"></a>3.1 å‡½æ•°ç»„ä»¶</h4><p>React å¸Œæœ›ï¼Œç»„ä»¶ä¸è¦å˜æˆå¤æ‚çš„å®¹å™¨ã€‚<br>React çš„å‡½æ•°ç»„ä»¶åªåº”è¯¥åšä¸€ä»¶äº‹æƒ…ï¼šè¿”å›ç»„ä»¶çš„ HTML ä»£ç ï¼Œè€Œæ²¡æœ‰å…¶ä»–çš„åŠŸèƒ½ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯ï¼Œè¿™ç§å†™æ³•æœ‰å¾ˆå¤§çš„é™åˆ¶ï¼Œçº¯å‡½æ•°æ— æ³•åŒ…å«çŠ¶æ€ï¼Œä¹Ÿä¸æ”¯æŒç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒReactå¼•å…¥Hooksï¼Œå¸Œæœ›ä¸ä½¿ç”¨â€ç±»â€ï¼Œä¹Ÿèƒ½å†™å‡ºä¸€ä¸ªå…¨åŠŸèƒ½çš„ç»„ä»¶ã€‚</p>
<h4 id="3-2-Hooks"><a href="#3-2-Hooks" class="headerlink" title="3.2 Hooks"></a>3.2 Hooks</h4><p><em><code>Hooks</code></em> æ˜¯é’©å­çš„æ„æ€ï¼Œç»„ä»¶è¿˜æ˜¯è¦å†™æˆçº¯å‡½æ•°ï¼Œå¦‚æœè¦å…¶ä»–åŠŸèƒ½ï¼Œå°±è¦ç”¨é’©å­æŠŠå®ƒä»¬â€é’©â€è¿›æ¥ã€‚</p>
<p>å¸¸è§çš„é’©å­æœ‰ï¼š</p>
<ul>
<li><code>useState</code>ï¼šä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥çŠ¶æ€state</li>
<li><code>useEffect</code>ï¼šå¼•å…¥å…·æœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œå¦‚è·å–æ•°æ®ã€äº‹ä»¶ç›‘å¬ã€æ”¹å˜DOM<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> increment = <span class="function"><span class="params">()</span> =&gt;</span> setCount(<span class="function"><span class="params">c</span> =&gt;</span> c + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increment&#125;</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä½ è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„Hooksã€‚<br>Hooksçš„å†™æ³•å°†æ•°æ®ã€é€»è¾‘ä»classä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¼€å¯äº†ç»„ä»¶é€»è¾‘è¡¨è¾¾å’Œé€»è¾‘å¤ç”¨çš„æ–°èŒƒå¼ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> usePerson = <span class="function">(<span class="params">personId</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [person, setPerson] = useState(&#123;&#125;);</span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>);</span><br><span class="line">    fetch(<span class="string">`https://swapi.co/api/people/<span class="subst">$&#123;personId&#125;</span>/`</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">      .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        setPerson(data);</span><br><span class="line">        setLoading(<span class="literal">false</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;, [personId]);  </span><br><span class="line">  <span class="keyword">return</span> [loading, person];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="4-Vue3-Compsition-API"><a href="#4-Vue3-Compsition-API" class="headerlink" title="4. Vue3 Compsition API"></a>4. Vue3 Compsition API</h3><p>å—åˆ° React hooks çš„å¯å‘ï¼ŒVue3 æä¾›äº†ç±»ä¼¼çš„ Composition APIã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> increment = <span class="function"><span class="params">()</span> =&gt;</span> count.value++;</span><br><span class="line">    <span class="keyword">return</span> &#123; count, increment &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>End.</p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul>
<li><a href="https://vue3js.cn/vue-composition/" target="_blank" rel="noopener">Vue ç»„åˆå¼ API</a></li>
<li><a href="https://www.ruanyifeng.com/blog/2020/09/react-hooks-useeffect-tutorial.html" target="_blank" rel="noopener">é˜®ä¸€å³°ï¼šè½»æ¾å­¦ä¼š React é’©å­ï¼šä»¥ useEffect() ä¸ºä¾‹</a></li>
<li><a href="https://www.zhihu.com/question/309891718/answer/3073163101" target="_blank" rel="noopener">è°èƒ½å¤§è‡´è¯´ä¸‹vueå’Œreactçš„æœ€å¤§åŒºåˆ«ä¹‹å¤„ï¼Ÿ</a></li>
</ul>

    </div>
  </article>
    
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2024/08/16/copy/" rel="next" title="Blob, toBlob, FileReader æ–‡ä»¶æ“ä½œ &amp; å¤åˆ¶">
          Blob, toBlob, FileReader æ–‡ä»¶æ“ä½œ &amp; å¤åˆ¶
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
        
          <a href="/2024/10/25/Redux/" rel="prev" title="ğŸ¤” Redux + React-Redux å·¥ä½œåŸç†">
            ğŸ¤” Redux + React-Redux å·¥ä½œåŸç†
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  
</div>


<script>
var link = document.getElementsByClassName('toc-link');
var hash = decodeURIComponent(location.hash);
if (hash){
} else {
  link[0].classList.add('toc-link-active');
}

var h3 = document.getElementsByTagName('h3');
var h4 = document.getElementsByTagName('h4');
var h5 = document.getElementsByTagName('h5');
var link_arr = [];
function addToArr(arr){
  for(var i = 0; i < arr.length; i++){
    link_arr.push(arr[i].offsetTop);
  }
}
addToArr(h3);
addToArr(h4);
addToArr(h5);


var compare = function (x, y) {
    if (x < y) {
        return -1;
    } else if (x > y) {
        return 1;
    } else {
        return 0;
    }
}

link_arr.sort(compare);


window.onscroll = function(){
  var height = document.documentElement.scrollTop;
  for (var i = 0; i < link_arr.length; i++){
    if (link_arr[i] > height){
      for(var j = 0; j < link.length; j++){
        link[j].classList.remove('toc-link-active');
      }
      document.getElementsByClassName('toc-link')[i].classList.add('toc-link-active');
      break;
    } 
  }
}

</script>
    </div>
  </div>
  




    <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>
      
    
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // listen to any DOM change and automatically perform spacing via MutationObserver()
        pangu.autoSpacingPage();
      });

      window.addEventListener("load", event => {
        // åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ
        if ("serviceWorker" in navigator) {
          window.navigator.serviceWorker
            .register("/sw.js", {
              scope: "/"
            })
        }
      });
    </script>
</body>
</html>

