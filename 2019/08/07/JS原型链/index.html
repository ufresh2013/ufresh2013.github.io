
<!DOCTYPE html>
<html lang="">


  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#202020">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    
        <meta name="keywords" content="">
        

          
              <meta name="description" content="JS åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰, thisï¼Œnew">
              

                <link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAAEzo7pQAAACzVBMVEXHx8fLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3y8vL09PT19fX29vb39/f4+Pj6+vr9/f3+/v7////Ozs7Pz8/Q0NDS0tLU1NTW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7S0tLV1dXZ2dna2trc3NzY2Njc3Nzj4+PV1dXT09PX19fZ2dnc3NzU1NTU1NTY2Nji4uLS0tLS0tLW1tbU1NTf39/Hx8fT09PJycnIyMjDw8PGxsbHx8fBwcHFxcXf39/JycnS0tK8vLy3t7fBwcG4uLi8vLzCwsKwsLCioqKhoaGdnZ2ZmZmbm5uXl5ehoaGZmZmPj4+ampqJiYmVlZWGhoaDg4OSkpKFhYWAgICQkJB2dnZ9fX16enp4eHh0dHRvb29ycnJ1dXVra2tubm5tbW1eXl5paWllZWVkZGR4eHhYWFhcXFxaWlpbW1tOTk5NTU1MTExOTk5QUFBISEhgYGBEREQ3NzdBQUFISEhCQkJBQUE0NDQ6Ojo2NjY2NjYxMTEzMzMnJycwMDApKSkrKysZGRkpKSkTExMVFRUfHx8gICAiIiItLS0cHBwdHR0lJSUZGRkiIiIdHR0XFxcjIyMREREiIiIAAAABAQEDAwMEBAQGBgYHBwcICAgJCQkKCgoLCwsMDAwNDQ0ODg4PDw8QEBARERESEhITExMUFBQVFRUWFhYXFxcYGBgZGRkaGhobGxscHBwdHR0eHh4fHx8gICAhISEiIiIjIyMkJCQmJiYnJycoKCgrKyssLCwwMDAxMTE3NzdDQ0NLS0tPT09WVlZZWVlkZGRoaGhra2tsbGxzc3N2dnZ9fX2BgYGNjY2Pj4+dnZ1edkJeAAAAtHRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQECAgICAgMDAwQFBggICQoKDA4QEBMUFhYYGRocHB8hIiMkKSw1ODg9RkpOUFNVV1lmaGtsbnFydHd5eYWHiImMj4+Sk5OVlpuipKaqq622v8DBwsPHyMzOz9HS1NXb3uDm5ujq7Ozw8fLy8vLy8vP09vf6+/z8/v5Qqz//AAADDklEQVQYGW3BS2icVRgG4Pf9zvnnkpnMJZPr5GpMa6NISJTEpolaSRG7KBVBcCMIRRAEleJWXbtyobgTFVwILtyIWbltSw2VSK01KcQ0pdGZZEybmT//zH/OZyKNi+jzQCZNYJP3Pn6c6StKOQPCSHbcIv3LUs6WelzBfOt2rzKL/rhkandoZt/vBvQZsQvdIDjPi68SgNaNYCo+vl1uN5nEJ8uprq7fxUnyvbMfibPRKz0YwuRlSZzfzHbVzlhrBmV3t+hPyLChApXALAoJ9GaYAlQGclaoyt9AkyBN6bNTi5ubOv36zqqzFpDXOkpfAdDbv6JprPZ8OQ3bklYrkR+9XJdW67mc2g0LKQlGTxpr5ppK1weYOlC/5M3why8YPMBq9Kd5d8LjkJamyxSAE7reOCY3wz4STAEoxKMGVPhbgLWAuZD5tKzWVTQCxHsfdJx+tnpntfHB552gVdDF7RfeWNqbGPkh9LAB0POoK2CeqK+F6qUeZt8eAUBATpUFkkqdf9K7HZGGIjtIFY8M0Te+Uyvn0fF8KhBXeCrA+vVcWtaA7rSz2ugAUikE20VlGBmZya4pACVIvT3UtPm5SRyKw7as7ToteECl8+48vxsA8a/1r8WQOERNe7bhgEJwgiIQelVAVqE2wD624QAlPde9qJ0BSECJ1gofvgECzOAfiY43H/FXv/kDYwCo98Ynoi8asQJWsE8FaHLM9mxUvw87G0/nX4oGVlZ+3HIe1uOALw53pqNyWcKXEZlCIrC3lpe3lULTJiLHtx+authdBKA2k8m3BwIn/n5tz6kajWMXz7wz1Z+ga1kcYjL21xuIYQJCumYeKwN/9ecsQxP7nIQWyGXSa3ugCWh6zy30WoBIaTWJrbFMEjsBlFqvNCIbQ3brYdMQiVYFaaBvo5LPtSkZ1u43JG2DlhGxhgBB7HNBGQ6EBIVs0HB2Nti7lmw6JY6IuLx07BptdvnsW4UicYQi+mnL3Jjd44sLI0OKo5SgbsqlKz+bc0+Uif8gVCVbnTwZ28FqDf9HSc+bUf1vzMAvsrtVWjkAAAAASUVORK5CYII=">
                <title>
                  JS åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰, thisï¼Œnew [ å¼€å‘ç¬”è®° ]
                </title>
                
                  <!-- stylesheets list from config.yml -->
                  
                    <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
                    
                    <link rel="stylesheet" href="/css/microb.css">
                    
                      
  </head>

<body>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
        <div class="tab">
            <a href="/"><img src="/left.png" /></a>
            <span><a href="/">å¼€å‘ç¬”è®°</a></span>
            <!-- <span><a class="tab-search" href="/search/">æœç´¢</a></span> -->
            
              <span><a class="tab-title" id="#Browser" href="/#Browser">Browser</a></span>
            
              <span><a class="tab-title" id="#Bug" href="/#Bug">Bug</a></span>
            
              <span><a class="tab-title" id="#CSS" href="/#CSS">CSS</a></span>
            
              <span><a class="tab-title" id="#HTML" href="/#HTML">HTML</a></span>
            
              <span><a class="tab-title" id="#HTTP" href="/#HTTP">HTTP</a></span>
            
              <span><a class="tab-title" id="#JS" href="/#JS">JS</a></span>
            
              <span><a class="tab-title" id="#LeetCode" href="/#LeetCode">LeetCode</a></span>
            
              <span><a class="tab-title" id="#NodeJS" href="/#NodeJS">NodeJS</a></span>
            
              <span><a class="tab-title" id="#Other" href="/#Other">Other</a></span>
            
              <span><a class="tab-title" id="#Work" href="/#Work">Work</a></span>
            
              <span><a class="tab-title" id="#éšç¬”" href="/#éšç¬”">éšç¬”</a></span>
            
          </div>
      
  <div id="toc" class="toc-article">
    <!--<strong class="toc-title">ç›®å½•</strong>-->
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰"><span class="toc-text">1. åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-prototype-ä¸-proto"><span class="toc-text">1.1 prototype ä¸ __proto</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-new-Function-åšäº†ä»€ä¹ˆï¼Ÿ"><span class="toc-text">1.2 new Function åšäº†ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-å®ç°ä¸€ä¸ª-new"><span class="toc-text">1.3 å®ç°ä¸€ä¸ª new</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ç±»ç»§æ‰¿-extends"><span class="toc-text">2. ç±»ç»§æ‰¿ extends</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-ç±»ç»§æ‰¿-vs-åŸå‹ç»§æ‰¿"><span class="toc-text">3. ç±»ç»§æ‰¿ vs åŸå‹ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-this"><span class="toc-text">4. this</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-é»˜è®¤ç»‘å®š"><span class="toc-text">2.1 é»˜è®¤ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-éšå¼ç»‘å®š"><span class="toc-text">2.2 éšå¼ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-æ˜¾å¼ç»‘å®š"><span class="toc-text">2.3 æ˜¾å¼ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-newç»‘å®š"><span class="toc-text">2.4 newç»‘å®š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-ç®­å¤´å‡½æ•°-å’Œ-æ™®é€šå‡½æ•°çš„åŒºåˆ«"><span class="toc-text">4. ç®­å¤´å‡½æ•° å’Œ æ™®é€šå‡½æ•°çš„åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-ç»‘å®šnull-undefined"><span class="toc-text">3.2 ç»‘å®šnull,undefined</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-ç®­å¤´å‡½æ•°"><span class="toc-text">3.3 ç®­å¤´å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‚è€ƒèµ„æ–™"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
  </div>


<div class="section">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        JS åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰, thisï¼Œnew
      </h1>
      
      <time class="time" datetime="2019-08-07T02:09:15.000Z">
        2019-08-07
      </time>
      
      <hr>
    </header>
    <div class="post-content">
      <h3 id="1-åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰"><a href="#1-åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰" class="headerlink" title="1. åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰"></a>1. åŸå‹é“¾ï¼ˆç»§æ‰¿ï¼‰</h3><p>åŸå‹é“¾ï¼ŒJavaScript å¯¹è±¡æœ‰ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªåŸå‹å¯¹è±¡çš„é“¾ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠè¯¥å¯¹è±¡çš„åŸå‹çš„åŸå‹ï¼Œä¾æ¬¡å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«å°¾ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// f.prototypeç”¨äºæŒ‡å‘å¯¹è±¡fçš„åŸå‹</span></span><br><span class="line"><span class="comment">// åœ¨få‡½æ•°çš„åŸå‹ä¸Šå®šä¹‰å±æ€§</span></span><br><span class="line">f.prototype.b = <span class="number">3</span>;</span><br><span class="line">f.prototype.c = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o = <span class="keyword">new</span> f();</span><br><span class="line"><span class="comment">// oçš„æ•´ä¸ªåŸå‹é“¾å¦‚ä¸‹:</span></span><br><span class="line"><span class="comment">// &#123;a:1, b:2&#125; ---&gt; &#123;b:3, c:4&#125; ---&gt; Object.prototype---&gt; null</span></span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚åŸå‹å¯¹è±¡çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥è®©æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½å®ä¾‹å±æ€§çš„å‰¯æœ¬ï¼Œä½†åŒæ—¶åˆå…±äº«ç€å¯¹æ–¹æ³•çš„å¼•ç”¨ï¼Œæœ€å¤§é™åº¦åœ°èŠ‚çœäº†å†…å­˜ã€‚</p>
<h4 id="1-1-prototype-ä¸-proto"><a href="#1-1-prototype-ä¸-proto" class="headerlink" title="1.1 prototype ä¸ __proto"></a>1.1 <code>prototype</code> ä¸ <code>__proto</code></h4><p><code>__proto</code> æ˜¯å®ä¾‹çš„åŸå‹å¯¹è±¡ã€‚<br><code>prototype</code>ç”¨äºå®šä¹‰åŸå‹å¯¹è±¡ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Parent.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>ä¸€ä¸ªå¯¹è±¡ A çš„<code>__proto__</code>æŒ‡å‘å¯¹è±¡ B,é‚£ä¹ˆ B å°±æ˜¯ A çš„åŸå‹å¯¹è±¡ã€‚<br>A å¯ä»¥ç”¨ B ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç”¨ B çš„åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span> (<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Parent(<span class="string">'xl'</span>,<span class="number">20</span>)</span><br><span class="line"><span class="built_in">console</span>.log(Parent.prototype); <span class="comment">// Parent &#123; sayName: Function &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__); <span class="comment">// Parent &#123; sayName: Function &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(p.prototype); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Parent.__proto__); <span class="comment">// [Function], Parentæ˜¯Functionçš„å®ä¾‹</span></span><br><span class="line">p.sayName() <span class="comment">// 'xl'</span></span><br></pre></td></tr></table></figure></p>
<h4 id="1-2-new-Function-åšäº†ä»€ä¹ˆï¼Ÿ"><a href="#1-2-new-Function-åšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.2 new Function åšäº†ä»€ä¹ˆï¼Ÿ"></a>1.2 new Function åšäº†ä»€ä¹ˆï¼Ÿ</h4><p>Function å¯ä»¥æ˜¯ Object çš„æ„é€ å‡½æ•°ï¼Œnew ä¸€ä¸ª Function æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<ul>
<li><code>const a = new Person(&#39;Tom&#39;)</code></li>
<li>æ–°å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡<code>const a = {}</code></li>
<li>è®¾ç½®<code>a.__proto__ = Person. prototype</code></li>
<li>æ‰§è¡ŒPersonæ„é€ å‡½æ•°ï¼Œå¦‚<code>a.name = &#39;Tom&#39;</code></li>
<li>æ„é€ å‡½æ•°Personæ²¡æœ‰returnè¯­å¥ï¼Œåˆ™å°†è¯¥æ–°åˆ›å»ºçš„å¯¹è±¡è¿”å›</li>
</ul>
<p><img src="/2019/08/07/JSåŸå‹é“¾/1.jpg" style="width:500px"></p>
<h4 id="1-3-å®ç°ä¸€ä¸ª-new"><a href="#1-3-å®ç°ä¸€ä¸ª-new" class="headerlink" title="1.3 å®ç°ä¸€ä¸ª new"></a>1.3 å®ç°ä¸€ä¸ª new</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myNew</span> (<span class="params">func, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(func.prototype)</span><br><span class="line">  <span class="keyword">let</span> result = func.apply(obj, ...args)</span><br><span class="line">  <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="built_in">Object</span> ? result : obj</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = myNew(Person, <span class="string">"huihui"</span>, <span class="number">123</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p) <span class="comment">// Person &#123;name: "huihui", age: 123&#125;</span></span><br><span class="line">p.sayName() <span class="comment">// huihui</span></span><br></pre></td></tr></table></figure>
<h3 id="2-ç±»ç»§æ‰¿-extends"><a href="#2-ç±»ç»§æ‰¿-extends" class="headerlink" title="2. ç±»ç»§æ‰¿ extends"></a>2. ç±»ç»§æ‰¿ extends</h3><p>å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œåªéœ€åœ¨å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸çˆ¶ç±»æ–¹æ³•åŒåçš„æ–¹æ³•å³å¯ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    sayHello() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Hello from parent class.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    sayHello() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Hello from child class.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> child = <span class="keyword">new</span> Child();</span><br><span class="line">child.sayHello(); <span class="comment">// è¾“å‡º: Hello from child class.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="comment">// ç»§æ‰¿å†…ç½®ç±» Array String</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'123'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-ç±»ç»§æ‰¿-vs-åŸå‹ç»§æ‰¿"><a href="#3-ç±»ç»§æ‰¿-vs-åŸå‹ç»§æ‰¿" class="headerlink" title="3. ç±»ç»§æ‰¿ vs åŸå‹ç»§æ‰¿"></a>3. ç±»ç»§æ‰¿ vs åŸå‹ç»§æ‰¿</h3><p>åŸå‹ç»§æ‰¿çš„ç»§æ‰¿é“¾æ˜¯ç”±å®å®åœ¨åœ¨çš„å¯¹è±¡æ„æˆçš„ã€‚<br>è€Œç±»ç»§æ‰¿ç³»ç»Ÿæ˜¯é€šè¿‡æŠ½è±¡çš„ç±»å®šä¹‰ï¼ˆclassï¼‰æ¥è¿›è¡Œç»§æ‰¿ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸€ä¸ªæœ€å¤§ç‰¹æ€§å°±æ˜¯çµæ´»ï¼Œå› ä¸ºç»§æ‰¿é“¾ä¸Šçš„æ¯ä¸€ä¸ªå¯¹è±¡ã€ç”šè‡³ç»§æ‰¿é“¾æœ¬èº«éƒ½æ˜¯å¯ä»¥åŠ¨æ€ä¿®æ”¹çš„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç±»ç»§æ‰¿éœ€è¦äº‹å…ˆå®šä¹‰å¥½æ‰€æœ‰çš„ç±»å’Œå®ƒä»¬ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œç»å¤§éƒ¨åˆ†ç±»ç»§æ‰¿ç³»ç»Ÿéƒ½ä¸æ”¯æŒåœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹è¿™äº›å·²ç»å®šä¹‰å¥½çš„ä¸œè¥¿ã€‚æœ‰äº›äº‹æƒ…åœ¨ç±»ç»§æ‰¿ç³»ç»Ÿé‡Œæ˜¯åšä¸åˆ°ï¼ˆæˆ–å¾ˆéš¾åšåˆ°ï¼‰çš„ï¼Œæ¯”å¦‚ä¿®æ”¹åŸå‹ç­‰äºåŒæ—¶ä¿®æ”¹äº†æ‰€æœ‰ç»§æ‰¿è‡ªè¯¥åŸå‹çš„å¯¹è±¡ï¼Œå°†ä¸€ä¸ªåŸå‹çš„å±æ€§éƒ¨åˆ†æ··å…¥å¦ä¸€ä¸ªåŸå‹ï¼Œç”šè‡³æ˜¯åœ¨ç°æœ‰çš„ç»§æ‰¿é“¾ä¸­æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç­‰ç­‰ã€‚</p>
<h3 id="4-this"><a href="#4-this" class="headerlink" title="4. this"></a>4. this</h3><p>åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>this</code>çš„å€¼æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>this</code>çš„å€¼å–å†³äºè¯¥å‡½æ•°æ˜¯å¦‚ä½•åˆ«è°ƒç”¨çš„ã€‚å¦‚æœå®ƒè¢«ä¸€ä¸ªå¼•ç”¨å¯¹è±¡è°ƒç”¨ï¼Œé‚£ä¹ˆ<code>this</code>ä¼šè¢«è®¾ç½®æˆé‚£ä¸ªå¯¹è±¡ï¼Œå¦åˆ™<code>this</code>çš„å€¼åˆ«è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡æˆ–<code>undefined</code>(ä¸¥æ ¼æ¨¡å¼ä¸‹)</p>
<p><em><code>this</code></em>æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡ã€‚å¦‚ä½•å‡†ç¡®åˆ¤æ–­thisæŒ‡å‘çš„æ˜¯ä»€ä¹ˆï¼Ÿ<em>thisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡</em>ã€‚</p>
<h4 id="2-1-é»˜è®¤ç»‘å®š"><a href="#2-1-é»˜è®¤ç»‘å®š" class="headerlink" title="2.1 é»˜è®¤ç»‘å®š"></a>2.1 é»˜è®¤ç»‘å®š</h4><p>é»˜è®¤ç»‘å®šï¼Œåœ¨ä¸èƒ½åº”ç”¨å…¶ä»–ç»‘å®šè§„åˆ™æ—¶ä½¿ç”¨çš„é»˜è®¤è§„åˆ™ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚</p>
<p>åœ¨è°ƒç”¨<code>a()</code>æ—¶ï¼Œç›¸å½“äºæ‰§è¡Œäº†<code>window.a()</code>ï¼Œè¿™ä¸ªæ—¶å€™<code>this</code>æŒ‡å‘<code>windowå¯¹è±¡</code>ã€‚<br>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code>æŒ‡å‘undefined, undefinedä¸Šæ²¡æœ‰thiså¯¹è±¡ï¼Œä¼šæŠ›å‡ºé”™è¯¯<code>Uncaught TypeError: Cannot read property &#39;name&#39; of undefined</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello,'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Amy'</span></span><br><span class="line">a();  <span class="comment">// æµè§ˆå™¨ä¸‹ hello,Amy</span></span><br><span class="line"><span class="comment">// nodeç¯å¢ƒä¸‹ hello,undefinedã€‚å› ä¸ºnodeä¸­nameå¹¶ä¸æ˜¯æŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„</span></span><br></pre></td></tr></table></figure>
<p>çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œ<code>fn</code>ä»ç„¶æ˜¯è¢«<code>window</code>è°ƒç”¨çš„ï¼Œæ‰€æœ‰<code>this</code>ä»ç„¶æŒ‡å‘<code>window</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"windowsName"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'Cherry'</span>;</span><br><span class="line">  innerFunction();</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">innerFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);      <span class="comment">// windowsName</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn()</span><br></pre></td></tr></table></figure></p>
<h4 id="2-2-éšå¼ç»‘å®š"><a href="#2-2-éšå¼ç»‘å®š" class="headerlink" title="2.2 éšå¼ç»‘å®š"></a>2.2 éšå¼ç»‘å®š</h4><p>å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¸Šè§¦å‘çš„ï¼Œå…¸å‹å½¢å¼ä¸º<em><code>XXX.fun()</code></em>ï¼Œ è°ƒç”¨ä½ç½®ä¸Šå­˜åœ¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p>
<p>sayHiå‡½æ•°å£°æ˜åœ¨å¤–éƒ¨ï¼Œä¸¥æ ¼æ¥è¯´ä¸å±äºpersonï¼Œ ä½†åœ¨è°ƒç”¨sayHiæ—¶ï¼Œè°ƒç”¨ä½ç½®ä¼šä½¿ç”¨personçš„ä¸Šä¸‹æ–‡æ¥å¼•ç”¨å‡½æ•°ï¼Œéšå¼ç»‘å®šä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„thisç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ï¼ˆæ³¨æ„ï¼Œä¸ç®¡æœ‰å¤šå°‘å±‚è°ƒç”¨ï¼Œåªæœ‰æœ€åä¸€å±‚ä¼šç¡®å®šthisæŒ‡å‘çš„æ˜¯ä»€ä¹ˆï¼‰<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello,'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">  name: <span class="string">'Amy'</span>,</span><br><span class="line">  sayHi: sayHi,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  name: <span class="string">'Sarah'</span>,</span><br><span class="line">  friend: person2,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Mike'</span></span><br><span class="line">person1.friend.sayHi()  <span class="comment">// Hi,Amy</span></span><br></pre></td></tr></table></figure></p>
<p><em>éšå¼ç»‘å®šä¸¢å¤±</em><br>Hiç›´æ¥æŒ‡å‘äº†sayHiçš„å¼•ç”¨ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œè·Ÿpersonæ²¡æœ‰å…³ç³»ã€‚<em><code>XXX.fn()</code></em>å¦‚æœ<code>fn()</code>å‰ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œé‚£è‚¯å®šä¸æ˜¯éšå¼ç»‘å®šï¼Œä½†ä¹Ÿä¸ä¸€å®šå°±æ˜¯é»˜è®¤ç»‘å®šã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello,'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Amy'</span>,</span><br><span class="line">  sayHi: sayHi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Mike'</span>;</span><br><span class="line"><span class="keyword">var</span> Hi = person.sayHi;</span><br><span class="line">Hi();   <span class="comment">// Hello,Mike</span></span><br></pre></td></tr></table></figure></p>
<p>åœ¨<strong>å›è°ƒå‡½æ•°</strong>ä¸­ï¼Œä¹Ÿä¼šå­˜åœ¨éšå¼ç»‘å®šä¸¢å¤±ã€‚</p>
<ul>
<li>ç¬¬ä¸€æ¡è¾“å‡ºä¸­ï¼Œ<code>setTimeout</code>çš„å›è°ƒå‡½æ•°ä¸­ï¼Œthisä½¿ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡</li>
<li>ç¬¬äºŒæ¡è¾“å‡ºä¸­ï¼Œ<code>setTimeout(fn, delay){ fn() }</code>ï¼Œç›¸å½“äºå°†<code>person2.sayHi</code>èµ‹å€¼ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œæœ€åæ‰§è¡Œäº†è¿™ä¸ªå˜é‡ï¼Œå› æ­¤sayHiä¸­çš„thiså’Œperson2å°±æ²¡æœ‰å…³ç³»äº†ã€‚</li>
<li>ç¬¬ä¸‰æ¡è¾“å‡ºä¸­ï¼Œæ‰§è¡Œçš„æ˜¯<code>person2.sayHi()</code>ï¼Œæ‰€ä»¥thisæŒ‡å‘person2ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  name: <span class="string">'Amy'</span>,</span><br><span class="line">  sayHi: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'hello,'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">  name: <span class="string">'Sarah'</span>,</span><br><span class="line">  sayHi: sayHi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Mike'</span>;</span><br><span class="line">person1.sayHi();                <span class="comment">// hello,Mike</span></span><br><span class="line">setTimeout(person2,sayHi, <span class="number">100</span>); <span class="comment">// hello,Mike</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  person2.sayHi()</span><br><span class="line">&#125;, <span class="number">200</span>)                         <span class="comment">// hello,Sarah</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-3-æ˜¾å¼ç»‘å®š"><a href="#2-3-æ˜¾å¼ç»‘å®š" class="headerlink" title="2.3 æ˜¾å¼ç»‘å®š"></a>2.3 æ˜¾å¼ç»‘å®š</h4><p>é€šè¿‡<code>call</code>, <code>apply</code>, <code>bind</code>çš„æ–¹å¼ï¼Œæ˜¾ç¤ºçš„æŒ‡å®šthisçš„å€¼ã€‚call,apply,bindçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æŒ‡å®šthisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚callå’Œapplyçš„ä½œç”¨ä¸€æ ·ï¼Œåªæ˜¯ä¼ å‚æ–¹å¼ä¸åŒã€‚callå’Œapplyéƒ½ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œè€Œbindæ–¹æ³•ä¸ä¼šã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Amy'</span>,</span><br><span class="line">  sayHi: sayHi,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Mike'</span>;</span><br><span class="line"><span class="keyword">var</span> Hi = person.sayHi;</span><br><span class="line">Hi.call(person);     <span class="comment">// hello,Amy</span></span><br></pre></td></tr></table></figure></p>
<p><em>æ˜¾å¼ç»‘å®šä¸¢å¤±</em><br><code>Hi.call(person, person.sayHi)</code>çš„ç¡®å°†thisç»‘å®šåˆ°Hiä¸­çš„thisã€‚ä½†åœ¨æ‰§è¡Œfnçš„æ—¶å€™ï¼Œç›¸å½“äºç›´æ¥è°ƒç”¨äº†sayHiæ–¹æ³•ï¼ˆæ²¡æœ‰æ˜¾å¼æ¿é¡¶ï¼Œ person.sayHiå·²ç»èµ‹å€¼ç»™fn, éšå¼ç»‘å®šä¹Ÿä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤å¯¹åº”çš„æ˜¯é»˜è®¤ç»‘å®šã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello,'</span>, <span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">'Amy'</span>,</span><br><span class="line">  sayHi: sayHi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Mike'</span>;</span><br><span class="line"><span class="keyword">var</span> Hi = fucntion(fn) &#123;</span><br><span class="line">  fn();           <span class="comment">// wrong: hello,Mike</span></span><br><span class="line">  fn.call(<span class="keyword">this</span>);  <span class="comment">// true:  hello,Amy</span></span><br><span class="line">&#125;</span><br><span class="line">Hi.call(person, person.sayHi);</span><br></pre></td></tr></table></figure></p>
<h4 id="2-4-newç»‘å®š"><a href="#2-4-newç»‘å®š" class="headerlink" title="2.4 newç»‘å®š"></a>2.4 newç»‘å®š</h4><p>åœ¨javascriptä¸­ï¼Œæ„é€ å‡½æ•°åªæ˜¯ä½¿ç”¨newæ“ä½œç¬¦æ—¶è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å’Œæ™®é€šçš„å‡½æ•°å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œå®ƒä¸å±äºæŸä¸ªç±»ï¼Œä¹Ÿä¸å¯èƒ½å®ä¾‹å®ä¾‹å‡ºä¸€ä¸ªç±»ã€‚ä»»ä½•ä¸€ä¸ªå‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨newæ¥è°ƒç”¨ï¼Œå› æ­¤å…¶å®å¹¶ä¸å­˜åœ¨æ„é€ å‡½æ•°ï¼Œè€Œåªæœ‰å¯¹äºå‡½æ•°çš„â€œæ„é€ è°ƒç”¨â€ã€‚</p>
<p>ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li>
<li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸå¤åˆ¶ç»™æ–°å¯¹è±¡ï¼Œå³thisæŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç </li>
<li>è¿”å›æ–°å¯¹è±¡</li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°è¿™ä¸ªå‡½æ•°çš„thisä¸Šã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Hi = <span class="keyword">new</span> sayHi(<span class="string">'Amy'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Hi.name);   <span class="comment">// Amy</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-ç®­å¤´å‡½æ•°-å’Œ-æ™®é€šå‡½æ•°çš„åŒºåˆ«"><a href="#4-ç®­å¤´å‡½æ•°-å’Œ-æ™®é€šå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="4. ç®­å¤´å‡½æ•° å’Œ æ™®é€šå‡½æ•°çš„åŒºåˆ«"></a>4. ç®­å¤´å‡½æ•° å’Œ æ™®é€šå‡½æ•°çš„åŒºåˆ«</h3><p>ä¼˜å…ˆçº§: newç»‘å®š &gt; æ˜¾å¼ç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</p>
<h4 id="3-2-ç»‘å®šnull-undefined"><a href="#3-2-ç»‘å®šnull-undefined" class="headerlink" title="3.2 ç»‘å®šnull,undefined"></a>3.2 ç»‘å®šnull,undefined</h4><p>å°†null, undefinedä½œä¸ºthisçš„ç»‘å®šå¯¹è±¡ä¼ å…¥call, apply, bindï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™</p>
<h4 id="3-3-ç®­å¤´å‡½æ•°"><a href="#3-3-ç®­å¤´å‡½æ•°" class="headerlink" title="3.3 ç®­å¤´å‡½æ•°"></a>3.3 ç®­å¤´å‡½æ•°</h4><p>ç®­å¤´å‡½æ•°çš„ this å§‹ç»ˆæŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„ thisï¼Œè€Œéæ‰§è¡Œæ—¶ã€‚<br>ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ this ç»‘å®šï¼Œå¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼ã€‚<br>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå› æ­¤ä¸èƒ½ç”¨call, apply, bindè¿™äº›æ–¹æ³•å»æ”¹å˜thisçš„æ‰§è¡Œã€‚å®ƒçš„thisç»§æ‰¿äºå¤–å±‚ä»£ç åº“ä¸­çš„thisã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  number: <span class="number">3</span>,</span><br><span class="line">  fn: (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> number;</span><br><span class="line">    <span class="keyword">this</span>.number *= <span class="number">2</span>;</span><br><span class="line">    number = number * <span class="number">2</span>;</span><br><span class="line">    number = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> num = <span class="keyword">this</span>.number;</span><br><span class="line">      <span class="keyword">this</span>.number *= <span class="number">2</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(num);</span><br><span class="line">      number *= <span class="number">3</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(number)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myFun = obj.fn;    </span><br><span class="line">myFun.call(<span class="literal">null</span>);   <span class="comment">// 10, 9</span></span><br><span class="line">obj.fn();           <span class="comment">// 3, 27</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.number)  <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10, 9, 3, 27, 20</span></span><br></pre></td></tr></table></figure></p>
<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul>
<li><a href="https://juejin.cn/post/6991483397495324703?share_token=22e1f417-433c-45b5-af4a-36379e2a189a" target="_blank" rel="noopener">è¯´è¯´newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/21740084/answer/24886476" target="_blank" rel="noopener">åŸºäºç±»çš„ç»§æ‰¿å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿ç›¸æ¯”è¾ƒï¼Œå„æœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Ÿä¸ºä»€ä¹ˆå¾ˆå°‘æœ‰è¯­è¨€æ˜¯ç”¨åŸºäºåŸå‹çš„ç»§æ‰¿ï¼Ÿ</a></li>
<li><a href="https://github.com/YvetteLau/Blog/issues/6" target="_blank" rel="noopener">å—¨ï¼Œä½ çœŸçš„æ‡‚thiså—ï¼Ÿ</a></li>
<li><a href="https://react.docschina.org/docs/faq-functions.html" target="_blank" rel="noopener">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨äº‹ä»¶å¤„ç†å‡½æ•°</a></li>
<li><a href="https://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/" target="_blank" rel="noopener">Understanding JavaScript Function Invocation and â€œthisâ€</a></li>
<li><a href="https://juejin.im/post/5ba32171f265da0ab719a6d7" target="_blank" rel="noopener">ç†è§£ JavaScript ä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ</a></li>
<li><a href="https://juejin.im/post/5b684f30f265da0f9f4e87cf" target="_blank" rel="noopener">javascript åƒåœ¾å›æ”¶æœºåˆ¶</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures" target="_blank" rel="noopener">é—­åŒ…</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html" target="_blank" rel="noopener">Javascriptä¸¥æ ¼æ¨¡å¼è¯¦è§£</a></li>
<li><a href="https://juejin.cn/post/6844903496253177863" target="_blank" rel="noopener">thisã€applyã€callã€bind</a></li>
</ul>

    </div>
  </article>
    
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2019/08/05/electronæ­å»ºReact-app/" rel="next" title="Electron + creact-react-app + ant-designæ­å»ºé¡¹ç›®">
          Electron + creact-react-app + ant-designæ­å»ºé¡¹ç›®
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
        
          <a href="/2019/08/16/HTTP/" rel="prev" title="ğŸ¤” HTTPå¸¸è§é—®é¢˜">
            ğŸ¤” HTTPå¸¸è§é—®é¢˜
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  
</div>


<script>
var link = document.getElementsByClassName('toc-link');
var hash = decodeURIComponent(location.hash);
if (hash){
} else {
  link[0].classList.add('toc-link-active');
}

var h3 = document.getElementsByTagName('h3');
var h4 = document.getElementsByTagName('h4');
var h5 = document.getElementsByTagName('h5');
var link_arr = [];
function addToArr(arr){
  for(var i = 0; i < arr.length; i++){
    link_arr.push(arr[i].offsetTop);
  }
}
addToArr(h3);
addToArr(h4);
addToArr(h5);


var compare = function (x, y) {
    if (x < y) {
        return -1;
    } else if (x > y) {
        return 1;
    } else {
        return 0;
    }
}

link_arr.sort(compare);


window.onscroll = function(){
  var height = document.documentElement.scrollTop;
  for (var i = 0; i < link_arr.length; i++){
    if (link_arr[i] > height){
      for(var j = 0; j < link.length; j++){
        link[j].classList.remove('toc-link-active');
      }
      document.getElementsByClassName('toc-link')[i].classList.add('toc-link-active');
      break;
    } 
  }
}

</script>
    </div>
  </div>
  




    <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>
      
    
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // listen to any DOM change and automatically perform spacing via MutationObserver()
        pangu.autoSpacingPage();
      });

      window.addEventListener("load", event => {
        // åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ
        if ("serviceWorker" in navigator) {
          window.navigator.serviceWorker
            .register("/sw.js", {
              scope: "/"
            })
        }
      });
    </script>
</body>
</html>

