
<!DOCTYPE html>
<html lang="">


  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#202020">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    
        <meta name="keywords" content="">
        

          
              <meta name="description" content="BOM - 访问浏览器的功能">
              

                <link rel="icon" type="image/x-icon" href="data:image/png;base64,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">
                <title>
                  BOM - 访问浏览器的功能 [ 日常笔记 ]
                </title>
                
                  <!-- stylesheets list from config.yml -->
                  
                    <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
                    
                    <link rel="stylesheet" href="/css/microb.css">
                    
                      
  </head>

<body>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
        <div class="tab">
            <a href="/"><img src="/left.png" /></a>
            <span><a href="/">日常笔记</a></span>
            <!-- <span><a class="tab-search" href="/search/">搜索</a></span> -->
            
              <span><a class="tab-title" id="#Basic" href="/#Basic">Basic</a></span>
            
              <span><a class="tab-title" id="#Browser" href="/#Browser">Browser</a></span>
            
              <span><a class="tab-title" id="#Bug" href="/#Bug">Bug</a></span>
            
              <span><a class="tab-title" id="#CSS" href="/#CSS">CSS</a></span>
            
              <span><a class="tab-title" id="#Debug" href="/#Debug">Debug</a></span>
            
              <span><a class="tab-title" id="#HTML" href="/#HTML">HTML</a></span>
            
              <span><a class="tab-title" id="#JS" href="/#JS">JS</a></span>
            
              <span><a class="tab-title" id="#NodeJS" href="/#NodeJS">NodeJS</a></span>
            
              <span><a class="tab-title" id="#React" href="/#React">React</a></span>
            
              <span><a class="tab-title" id="#Vue" href="/#Vue">Vue</a></span>
            
              <span><a class="tab-title" id="#其他" href="/#其他">其他</a></span>
            
          </div>
      
  <div id="toc" class="toc-article">
    <!--<strong class="toc-title">目录</strong>-->
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-简介"><span class="toc-text">1. 简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-窗口关系-amp-iframe"><span class="toc-text">2. 窗口关系 &amp; iframe</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-窗口属性"><span class="toc-text">3. 窗口属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-打开新窗口"><span class="toc-text">4. 打开新窗口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-location"><span class="toc-text">5. location</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-查询URL参数"><span class="toc-text">5.1 查询URL参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-修改URL"><span class="toc-text">5.2 修改URL</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-navigator"><span class="toc-text">6. navigator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-检查插件"><span class="toc-text">6.1 检查插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-判断浏览器类型"><span class="toc-text">6.2 判断浏览器类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-screen"><span class="toc-text">7. screen</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-history"><span class="toc-text">8. history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-其他"><span class="toc-text">6. 其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考资料"><span class="toc-text">参考资料</span></a></li></ol>
  </div>


<div class="section">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        BOM - 访问浏览器的功能
      </h1>
      
      <time class="time" datetime="2019-02-26T09:41:17.000Z">
        2019-02-26
      </time>
      
      <hr>
    </header>
    <div class="post-content">
      <h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h3><p>BOM提供了很多对象，用于访问浏览器的功能，这些功能与网页内容无关。<br><br></p>
<h3 id="2-窗口关系-amp-iframe"><a href="#2-窗口关系-amp-iframe" class="headerlink" title="2. 窗口关系 &amp; iframe"></a>2. 窗口关系 &amp; iframe</h3><p>在浏览器中，<code>window</code>对象既是JS访问浏览器窗口的一个接口，又是JS规定的<code>Global</code>对象。如果页面包含iframe，则每个iframe都拥有自己的<code>window</code>对象，并且保存在<code>frames</code>集合中。</p>
<ul>
<li><p><em>top</em><br><code>top</code>对象始终指向最外层的框架，也就是浏览器窗口。<br>你可以通过<code>top.frames[0]</code>, <code>top.frame[&quot;topFrame&quot;]</code>, <code>window.top.frames[0]</code>来引用topFframe。</p>
</li>
<li><p><em>window</em><br><code>window</code>对象指向了那个框架的特定实例，而非最高层的框架。</p>
</li>
<li><p><em>parent</em><br><code>parent</code>对象始终指向当前框架的直接上层框架。<br>在<code>redFrame</code>代码中，通过<code>window.parent.parent.frames[0]</code>引用<code>topFrame</code></p>
</li>
<li><p><em>self</em><br><code>self</code>始终指向<code>window</code>, 它和<code>window</code>可以互换使用</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"top.htm"</span> <span class="attr">name</span>=<span class="string">"topFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"left.htm"</span> <span class="attr">name</span>=<span class="string">"leftFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"right.htm"</span> <span class="attr">name</span>=<span class="string">"rightFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// rightFrame中又包含了两个iframe</span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"red.htm"</span> <span class="attr">name</span>=<span class="string">"redFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"blue.htm"</span> <span class="attr">name</span>=<span class="string">"blueFrame"</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/26/BOM文档/1.png" style="max-width:350px"></p>
<p><br></p>
<h3 id="3-窗口属性"><a href="#3-窗口属性" class="headerlink" title="3. 窗口属性"></a>3. 窗口属性</h3><ul>
<li><p>浏览器相对于屏幕左边和上边的位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> leftPos = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenLeft == <span class="string">"number"</span>) ? <span class="built_in">window</span>.screenLeft : <span class="built_in">window</span>.screenX;</span><br><span class="line"><span class="keyword">var</span> topPost = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenTop == <span class="string">"number"</span>) ? <span class="built_in">window</span>.screenTop : <span class="built_in">window</span>.screenY;</span><br></pre></td></tr></table></figure>
</li>
<li><p>页面视口的大小（注: 无法确定浏览器窗口的大小）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pageWidth = <span class="built_in">window</span>.innerWidth,</span><br><span class="line">    pageHeight = <span class="built_in">window</span>.innerHeight;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> pageWidth != <span class="string">"number"</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode == <span class="string">"CSS1Compat"</span>)&#123;</span><br><span class="line">      pageWidth = <span class="built_in">document</span>.documentElement.clientWidth;</span><br><span class="line">      pageHeight = <span class="built_in">document</span>.documentElement.clientHeight;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      pageWidth = <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line">      pageHeight = <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<h3 id="4-打开新窗口"><a href="#4-打开新窗口" class="headerlink" title="4. 打开新窗口"></a>4. 打开新窗口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.open(url, 窗口目标，特性字符串，一个表示新页面是否取代浏览器历史记录中当前加载页面的布尔值)</span><br></pre></td></tr></table></figure>
<ul>
<li><p><em>窗口目标</em><br>这个参数可以是下列任何一个特殊的窗口名称<em><code>_self</code>, <code>_parent</code>, <code>_top</code>, <code>_blank</code></em>，也可以指定具体值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 如果有一个叫topFrame的窗口就会在该窗口或框架加载这个url</span><br><span class="line">window.open(&quot;http://www.baidu.com&quot;, &quot;topFrame&quot;)</span><br><span class="line"></span><br><span class="line">// 在新标签页打开url</span><br><span class="line">window.open(&quot;https://www.baidu.com&quot;, &quot;_blank&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><em>特性字符串</em><br>在当前窗口打开一个弹出窗口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.open(&quot;http://www.baidu.com&quot;, null, &quot;height=400,width=400,top=10,left=10,resizeable=yes&quot;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<table>
<thead>
<tr>
<th>设置</th>
<th style="text-align:center">值</th>
<th style="text-align:right">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>fullscreen</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">浏览器窗口是否最大化(限IE)</td>
</tr>
<tr>
<td>height</td>
<td style="text-align:center">数值</td>
<td style="text-align:right">新窗口的高度，不能小于100</td>
</tr>
<tr>
<td>width</td>
<td style="text-align:center">数值</td>
<td style="text-align:right">新窗口的宽度，不能小于100</td>
</tr>
<tr>
<td>top</td>
<td style="text-align:center">数组</td>
<td style="text-align:right">新窗口的上坐标，不能是负值</td>
</tr>
<tr>
<td>left</td>
<td style="text-align:center">数组</td>
<td style="text-align:right">新窗口的左坐标，不能是负值</td>
</tr>
<tr>
<td>location</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否在浏览器窗口中显示地址栏(可能会被禁用)</td>
</tr>
<tr>
<td>menubar</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否在浏览器窗口显示菜单栏</td>
</tr>
<tr>
<td>resizable</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否可以拖动浏览器窗口的边框改变其大小</td>
</tr>
<tr>
<td>scrollbars</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否允许滚动</td>
</tr>
<tr>
<td>status</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否在浏览器窗口中显示状态栏</td>
</tr>
<tr>
<td>toolbar</td>
<td style="text-align:center">yes/no</td>
<td style="text-align:right">是否在浏览器窗口中显示工具栏</td>
</tr>
</tbody>
</table>
<ul>
<li><em>其他操作</em><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">window</span>.open(<span class="string">"http://www.baidu.com"</span>, <span class="literal">null</span>, <span class="string">"height=400,width=400,top=10,left=10"</span>);</span><br><span class="line">a.resizeTo(<span class="number">500</span>, <span class="number">500</span>)  <span class="comment">// 调整大小</span></span><br><span class="line">a.moveTo(<span class="number">100</span>, <span class="number">100</span>)    <span class="comment">// 移动位置</span></span><br><span class="line">a.close()             <span class="comment">// 关闭新打开的窗口</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<h3 id="5-location"><a href="#5-location" class="headerlink" title="5. location"></a>5. location</h3><h4 id="5-1-查询URL参数"><a href="#5-1-查询URL参数" class="headerlink" title="5.1 查询URL参数"></a>5.1 查询URL参数</h4><p><code>location</code>是最有用的BOM对象之一，可以通过<code>window.location</code>和<code>document.location</code>访问。它不仅保存着当前文档的信息，还将它解析为独立的片段。</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th style="text-align:center">例子</th>
<th style="text-align:right">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>hash</td>
<td style="text-align:center">“#contents”</td>
<td style="text-align:right">返回URL中的hash(#号后的字符)</td>
</tr>
<tr>
<td>host</td>
<td style="text-align:center"><code>&quot;www.baidu.com:80&quot;</code></td>
<td style="text-align:right">返回服务器名称的端口号</td>
</tr>
<tr>
<td>hostname</td>
<td style="text-align:center"><code>&quot;www.baidu.com&quot;</code></td>
<td style="text-align:right">返回不带端口号的服务器名称</td>
</tr>
<tr>
<td>href</td>
<td style="text-align:center"><code>&quot;http://www.baidu.com&quot;</code></td>
<td style="text-align:right">返回当前页面的完整URL</td>
</tr>
<tr>
<td>pathname</td>
<td style="text-align:center">“/dashboard/“</td>
<td style="text-align:right">返回URL的目录或文件名</td>
</tr>
<tr>
<td>port</td>
<td style="text-align:center">“8080”</td>
<td style="text-align:right">返回UR中的端口号</td>
</tr>
<tr>
<td>protocol</td>
<td style="text-align:center">“http:”</td>
<td style="text-align:right">返回页面使用的协议 <code>http:</code>或<code>https:</code></td>
</tr>
<tr>
<td>search</td>
<td style="text-align:center">“?q=javascript”</td>
<td style="text-align:right">返回URL的查询字符串，以<code>?</code>开头</td>
</tr>
</tbody>
</table>
<ul>
<li><em>解析查询字符串</em><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryStringArgs</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> qs = (location.search.length &gt; <span class="number">0</span> ? location.serach.substring(<span class="number">1</span>) : <span class="string">""</span>);</span><br><span class="line">      args = &#123;&#125;;</span><br><span class="line">      items = qs.length ? qs.split(<span class="string">"&amp;"</span>) : [];</span><br><span class="line">      </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.length; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> item = items[i].split(<span class="string">"="</span>);</span><br><span class="line">    <span class="keyword">var</span> name = <span class="built_in">decodeURIComponent</span>(item[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">var</span> val = <span class="built_in">decodeURIComponent</span>(item[<span class="number">1</span>]);</span><br><span class="line">    args[name] = val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> args;  </span><br><span class="line">&#125;</span><br><span class="line">alert(args[<span class="string">"q"</span>])  <span class="comment">// "javascript"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<h4 id="5-2-修改URL"><a href="#5-2-修改URL" class="headerlink" title="5.2 修改URL"></a>5.2 修改URL</h4><ul>
<li><p>在当前页面打开新URL(并在浏览器的历史记录中生成一条记录)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location.assign(<span class="string">"http://www.baidu.com"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与assign效果一样</span></span><br><span class="line"><span class="built_in">window</span>.location = <span class="string">"http://www.baidu.com"</span>;</span><br><span class="line">location.href = <span class="string">"http://www.baidu.com"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将hash,search, hostname, pathname, port设置为新值来改变URL<br>只有修改<code>hash</code>属性，页面不会以新URL重新加载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设原始url为"http://www.baidu.com/dashboard"</span></span><br><span class="line"><span class="comment">// url修改为"http://www.baidu.com/dashboard/#section1"</span></span><br><span class="line">location.hash = <span class="string">"#section1"</span>;          </span><br><span class="line"></span><br><span class="line"><span class="comment">// url修改为"http://www.baidu.com/dashboard?q=javascript"</span></span><br><span class="line">location.search = <span class="string">"?q=javascript"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// url修改为"http://www.yahoo.com/dashboard"</span></span><br><span class="line">location.hostname = <span class="string">"www.yahoo.com"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// url修改为"http://www.baidu.com/mydir"</span></span><br><span class="line">location.pathname = <span class="string">"mydir"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// url修改为"http://www.baidu.com:8000/dashboard"</span></span><br><span class="line">location.port = <span class="number">8000</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>通过上面任何一种方式修改URL后，浏览器的历史记录都会生成一条新记录。</p>
<ul>
<li><p>当前页面加载新URL，但是不会再历史记录中生成新记录。用户不能回到前一个页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.replace(<span class="string">"http://www.baidu.com"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新加载当前页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.reload();     <span class="comment">// 可能从缓存中加载</span></span><br><span class="line">location.reload(<span class="literal">true</span>); <span class="comment">// 从服务器重新加载</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<h3 id="6-navigator"><a href="#6-navigator" class="headerlink" title="6. navigator"></a>6. navigator</h3><h4 id="6-1-检查插件"><a href="#6-1-检查插件" class="headerlink" title="6.1 检查插件"></a>6.1 检查插件</h4><p>在浏览器中，可以使用<code>plugins</code>数组，检查浏览器中是否安装了特定的插件。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 非IE浏览器</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPlugin</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  name = name.toLowerCase();</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; navigator.plugins.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(navigator.plugins[i].name.toLowerCase().indexOf(name) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IE浏览器</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasIEPlugin</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> ActiveXObject(name);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (ex)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasFlash</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = hasPlugin(<span class="string">"Flash"</span>);</span><br><span class="line">  <span class="keyword">if</span> (!result)&#123;</span><br><span class="line">    result = hasIEPlugin(<span class="string">"ShockwaveFlash.ShockwaveFlash"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h4 id="6-2-判断浏览器类型"><a href="#6-2-判断浏览器类型" class="headerlink" title="6.2 判断浏览器类型"></a>6.2 判断浏览器类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getExploreName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> userAgent = navigator.userAgent;</span><br><span class="line">  <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Opera"</span>) &gt; <span class="number">-1</span> || userAgent.indexOf(<span class="string">"OPR"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Opera'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"compatible"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"MSIE"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'IE'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Edge"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Edge'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Firefox"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Firefox'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Chrome"</span>) == <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Safari'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(userAgent.indexOf(<span class="string">"Chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Chrome'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!!<span class="built_in">window</span>.ActiveXObject || <span class="string">"ActiveXObject"</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'IE&gt;=11'</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Unkonwn'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="7-screen"><a href="#7-screen" class="headerlink" title="7. screen"></a>7. screen</h3><p>表示浏览器窗口外部的显示器的信息，如像素宽高。<br><br></p>
<h3 id="8-history"><a href="#8-history" class="headerlink" title="8. history"></a>8. history</h3><p><code>history</code>对象保存着用户上网的历史记录。出于安全考虑，开发人员无法得知用户浏览过的URL。但是使用<code>go()</code>方法可以在用户的历史记录中任意跳转。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">history.go(<span class="number">-1</span>);   <span class="comment">// 后退一页</span></span><br><span class="line">history.go(<span class="number">1</span>);    <span class="comment">// 前进一页</span></span><br><span class="line">history.go(<span class="number">2</span>);    <span class="comment">// 前进两页</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 跳转到历史记录中 最近的 包含改字符串的地址，可能前进可能后退</span></span><br><span class="line">history.go(<span class="string">"wrox.com"</span>)</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="6-其他"><a href="#6-其他" class="headerlink" title="6. 其他"></a>6. 其他</h3><ul>
<li>setTimeout, clearTimeout</li>
<li>setInterval, clearInterval</li>
<li>系统对话框 alert(), confirm(), prompt()</li>
<li>显示打印对话框 window.print()</li>
<li>显示查找对话框 window.find()</li>
<li>可能被浏览器禁用的方法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.moveTo(0, 0)         将窗口移动到屏幕左上角</span><br><span class="line">window.moveBy(0, 100)       将窗口向下移动100像素</span><br><span class="line">window.resizeTo(100, 100)   将窗口调整到100 * 100</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li>《Javscript高级程序设计》 第八章 BOM</li>
<li>《Javascript高级程序设计》第九章 客户端监测</li>
<li><a href="https://segmentfault.com/a/1190000007640795" target="_blank" rel="noopener">JS 获得浏览器类型和版本</a></li>
</ul>

    </div>
  </article>
    
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>〈 </span>
          <a href="/2019/02/26/《Javascript高级程序设计》/" rel="next" title="《Javascript高级程序设计》">
          《Javascript高级程序设计》
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
        
          <a href="/2019/02/28/Redux/" rel="prev" title="Redux">
            Redux
          </a>
          <span>〉</span>
        
      </div>
    </div>
  
</div>


<script>
var link = document.getElementsByClassName('toc-link');
var hash = decodeURIComponent(location.hash);
if (hash){
} else {
  link[0].classList.add('toc-link-active');
}

var h3 = document.getElementsByTagName('h3');
var h4 = document.getElementsByTagName('h4');
var h5 = document.getElementsByTagName('h5');
var link_arr = [];
function addToArr(arr){
  for(var i = 0; i < arr.length; i++){
    link_arr.push(arr[i].offsetTop);
  }
}
addToArr(h3);
addToArr(h4);
addToArr(h5);


var compare = function (x, y) {
    if (x < y) {
        return -1;
    } else if (x > y) {
        return 1;
    } else {
        return 0;
    }
}

link_arr.sort(compare);


window.onscroll = function(){
  var height = document.documentElement.scrollTop;
  for (var i = 0; i < link_arr.length; i++){
    if (link_arr[i] > height){
      for(var j = 0; j < link.length; j++){
        link[j].classList.remove('toc-link-active');
      }
      document.getElementsByClassName('toc-link')[i].classList.add('toc-link-active');
      break;
    } 
  }
}

</script>
    </div>
  </div>
  




    <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>
    
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // listen to any DOM change and automatically perform spacing via MutationObserver()
        pangu.autoSpacingPage();
      });
    </script>
</body>
</html>

