
<!DOCTYPE html>
<html lang="">


  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#202020">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    
        <meta name="keywords" content="">
        

          
              <meta name="description" content="Docker基本概念与操作">
              

                <link rel="icon" type="image/x-icon" href="data:image/png;base64,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">
                <title>
                  Docker基本概念与操作 [ 开发笔记 ]
                </title>
                
                  <!-- stylesheets list from config.yml -->
                  
                    <link rel="stylesheet" href="/css/microb.css">
                    
                      
  </head>

<body>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
        <div class="tab">
            <a href="/"><img src="/left.png" /></a>
            <span><a href="/">开发笔记</a></span>
            <!-- <span><a class="tab-search" href="/search/">搜索</a></span> -->
            
              <span><a class="tab-title" id="#Browser" href="/#Browser">Browser</a></span>
            
              <span><a class="tab-title" id="#Bug" href="/#Bug">Bug</a></span>
            
              <span><a class="tab-title" id="#CSS" href="/#CSS">CSS</a></span>
            
              <span><a class="tab-title" id="#HTML" href="/#HTML">HTML</a></span>
            
              <span><a class="tab-title" id="#HTTP" href="/#HTTP">HTTP</a></span>
            
              <span><a class="tab-title" id="#JS" href="/#JS">JS</a></span>
            
              <span><a class="tab-title" id="#LeetCode" href="/#LeetCode">LeetCode</a></span>
            
              <span><a class="tab-title" id="#NodeJS" href="/#NodeJS">NodeJS</a></span>
            
              <span><a class="tab-title" id="#Other" href="/#Other">Other</a></span>
            
              <span><a class="tab-title" id="#Work" href="/#Work">Work</a></span>
            
              <span><a class="tab-title" id="#随笔" href="/#随笔">随笔</a></span>
            
          </div>
      
  <div id="toc" class="toc-article">
    <!--<strong class="toc-title">目录</strong>-->
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Docker是什么？"><span class="toc-text">1. Docker是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Docker-Engine"><span class="toc-text">2. Docker Engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Docker架构与基本概念"><span class="toc-text">3. Docker架构与基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-镜像-Docker-Image"><span class="toc-text">3.1 镜像(Docker Image)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-容器（Container）"><span class="toc-text">3.2 容器（Container）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-仓库（Docker-Repository）"><span class="toc-text">3.3 仓库（Docker Repository）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-怎么用Docker完成持续集成、自动交付、自动部署？"><span class="toc-text">4. 怎么用Docker完成持续集成、自动交付、自动部署？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Docker基本命令"><span class="toc-text">5. Docker基本命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-操作示例"><span class="toc-text">6. 操作示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-Orientation-Set-up-your-Docker-environment"><span class="toc-text">5.1 Orientation (Set up your Docker environment)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-Containers-Build-an-image-and-run-it-as-one-container"><span class="toc-text">5.2  Containers(Build an image and run it as one container)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-Build-and-run-the-app"><span class="toc-text">5.3 Build and run the app</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-Share-your-image"><span class="toc-text">5.4 Share your image</span></a></li></ol></li></ol>
  </div>


<div class="section">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        Docker基本概念与操作
      </h1>
      
      <time class="time" datetime="2018-09-08T07:56:08.000Z">
        2018-09-08
      </time>
      
      <hr>
    </header>
    <div class="post-content">
      <h3 id="1-Docker是什么？"><a href="#1-Docker是什么？" class="headerlink" title="1. Docker是什么？"></a>1. Docker是什么？</h3><p>Docker是一个虚拟环境容器，可以将你的开发环境、代码、配置文件等一并打包到这个容器中，并发布和应用到任意平台中。比如，你在本地用Python开发网站后台，开发测试完成后，就可以将Python3及其依赖包、Flask及其各种插件、Mysql、Nginx等打包到一个容器中，然后部署到任意你想部署到的环境。</p>
<p>Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your infrastructure so you can deliver software quickly.</p>
<h3 id="2-Docker-Engine"><a href="#2-Docker-Engine" class="headerlink" title="2. Docker Engine"></a>2. Docker Engine</h3><p>最核心的是Docker Daemon，称之为Docker守护进程，也就是server端。Sever端与客户端通过REST API 进行通信。客户端提供一个只读的镜像，通过镜像可以创建一个或多个容器，容器在docker client中只是一个进程，两个进程是互不可见的。</p>
<p>The Cli uses the Docker REST API to control or interact with the Docker daemon through scripting or direct CLI commands. The daemon creates and manages Docker objects, such as images, container, networks and wolumes.<br><img src="/2018/09/08/Docker入门/1.jpeg" style="padding-top:20px; max-width: 380px"></p>
<h3 id="3-Docker架构与基本概念"><a href="#3-Docker架构与基本概念" class="headerlink" title="3. Docker架构与基本概念"></a>3. Docker架构与基本概念</h3><p>镜像是Docker生命周期中的构建或打包阶段，而容器则是启动或执行阶段。</p>
<p>A container is launched by running an image. An image is an executable package that includes everything needed to run an application – the code, a runtime, libraries, environment variables, and configuration files.<br><img src="/2018/09/08/Docker入门/2.jpeg" style="padding-top:20px"></p>
<h4 id="3-1-镜像-Docker-Image"><a href="#3-1-镜像-Docker-Image" class="headerlink" title="3.1 镜像(Docker Image)"></a>3.1 镜像(Docker Image)</h4><p>An image is a read-only template with instructions for creating a Docker container.</p>
<p>镜像是一种层式结构。由一系列指令一步步构建出来：执行一条命令，添加文件或文件夹，创建环境变量，容器启动时-运行什么环境。<br>当用户修改一个Docker Image的时候（比如更新应用程序）一个新的层就会被建立。因此，这是一种增量式的修改，而不是新建一个全新的Image，这也是区别于传统虚拟机的一点。当你发布一个新的Image时，你只需要发布差异的部分，因此速度就非常快。<br><img src="/2018/09/08/Docker入门/3.jpeg" style="padding-top:20px; max-width:300px"></p>
<h4 id="3-2-容器（Container）"><a href="#3-2-容器（Container）" class="headerlink" title="3.2 容器（Container）"></a>3.2 容器（Container）</h4><p>A container is a runnable instance of an image.</p>
<p>Docker在文件系统内部用这个镜像创建了一个新容器。该容器拥有自己的网络、IP地址，以及一个用来和宿主机进行通信的桥接网络接口。</p>
<p>打个比方，你首先下载了一个Ubuntu的镜像，然后又安装了mysql和Django应用及依赖，来完成对Ubutun镜像的修改，生成了一个应用镜像。然后，你把这个镜像分享给大家使用，大家通过这个镜像生成了一个容器，容器启动后就会运行Django服务。</p>
<h4 id="3-3-仓库（Docker-Repository）"><a href="#3-3-仓库（Docker-Repository）" class="headerlink" title="3.3 仓库（Docker Repository）"></a>3.3 仓库（Docker Repository）</h4><p>Docker用来存放镜像的。共有仓库docker hub提供了非常多的镜像文件，这些镜像直接拉取下来就可以运行了，你也可以上传自己的镜像到docker hub上，搭建私有仓库。</p>
<ul>
<li>开发构建镜像并将镜像push到docker仓库</li>
<li>测试或者运维从docker仓库拷贝一份镜像到本地</li>
<li>通过镜像文件开启docker容器并提供服务<br><img src="/2018/09/08/Docker入门/4.jpeg" style="padding-top:20px"></li>
</ul>
<h3 id="4-怎么用Docker完成持续集成、自动交付、自动部署？"><a href="#4-怎么用Docker完成持续集成、自动交付、自动部署？" class="headerlink" title="4. 怎么用Docker完成持续集成、自动交付、自动部署？"></a>4. 怎么用Docker完成持续集成、自动交付、自动部署？</h3><p>搭建一个完整的自动化流程还需要github+Jenkins+registry三样帮助。</p>
<ul>
<li>开发人员推送代码到git，git服务器通过hook通知jenkis</li>
<li>jenkins克隆git代码到本地，并通过dockerFile文件进行编译</li>
<li>打包生成一个新版本的镜像并推送到仓库，删除当前容器，通过新版本镜像重新运行。<br>开发只需git add *, git commit -m “”, git push即可完成持续集成、自动交付、自动部署。<br><img src="/2018/09/08/Docker入门/5.jpeg" style="padding-top:20px"></li>
</ul>
<h3 id="5-Docker基本命令"><a href="#5-Docker基本命令" class="headerlink" title="5. Docker基本命令"></a>5. Docker基本命令</h3><table>
<thead>
<tr>
<th>镜像的操作</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td>$ docker search centos</td>
<td style="text-align:center">查看镜像是否存在</td>
</tr>
<tr>
<td>$ docker pull centos</td>
<td style="text-align:center">获取镜像</td>
</tr>
<tr>
<td>$ docker build</td>
<td style="text-align:center">创建镜像（利用Dockerfile）</td>
</tr>
<tr>
<td>$ docker images ls</td>
<td style="text-align:center">查看镜像</td>
</tr>
<tr>
<td>$ docker commit</td>
<td style="text-align:center">将容器转化为一个镜像</td>
</tr>
<tr>
<td>$ docker rmi image_name/image_id</td>
<td style="text-align:center">删除镜像</td>
</tr>
<tr>
<td>容器的操作</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>$ docker run</td>
<td style="text-align:center">基于镜像启动容器</td>
</tr>
<tr>
<td>$ docker container ls</td>
<td style="text-align:center">查看容器</td>
</tr>
<tr>
<td>$ docker start container_name/container_id</td>
<td style="text-align:center">启动容器</td>
</tr>
<tr>
<td>$ docker stop container_name/container_id</td>
<td style="text-align:center">停止容器</td>
</tr>
<tr>
<td>$ docker restart container_name/container_id</td>
<td style="text-align:center">重启容器</td>
</tr>
<tr>
<td>$ docker rm container_name/container_id</td>
<td style="text-align:center">删除容器</td>
</tr>
<tr>
<td>$ docker exec -it container-id /bin/bash</td>
<td style="text-align:center">进入容器</td>
</tr>
<tr>
<td>仓库的操作</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>$ docker login</td>
<td style="text-align:center">登录Dockerhub</td>
</tr>
<tr>
<td>$ docker push xianhu/centos:git</td>
<td style="text-align:center">将本地的镜像推送到Dockerhub</td>
</tr>
<tr>
<td>$ docker pull xianhu/centos:git</td>
<td style="text-align:center">从你的仓库中下载镜像</td>
</tr>
</tbody>
</table>
<h3 id="6-操作示例"><a href="#6-操作示例" class="headerlink" title="6. 操作示例"></a>6. 操作示例</h3><p><a href="https://docs.docker.com/get-started" target="_blank" rel="noopener">https://docs.docker.com/get-started</a></p>
<h4 id="5-1-Orientation-Set-up-your-Docker-environment"><a href="#5-1-Orientation-Set-up-your-Docker-environment" class="headerlink" title="5.1 Orientation (Set up your Docker environment)"></a>5.1 Orientation (Set up your Docker environment)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Display docker version and info</span><br><span class="line">docker –version</span><br><span class="line">docker info</span><br><span class="line"></span><br><span class="line"># Execute Docker image</span><br><span class="line">docker run hello-world</span><br><span class="line"></span><br><span class="line"># list Docker images</span><br><span class="line">docker image ls</span><br><span class="line"></span><br><span class="line"># list Docker containers </span><br><span class="line">docker container ls</span><br></pre></td></tr></table></figure>
<h4 id="5-2-Containers-Build-an-image-and-run-it-as-one-container"><a href="#5-2-Containers-Build-an-image-and-run-it-as-one-container" class="headerlink" title="5.2  Containers(Build an image and run it as one container)"></a>5.2  Containers(Build an image and run it as one container)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"># Create an empty directory. Cd into the new directory, create a file call Dockerfile.</span><br><span class="line">mkdir docker-test</span><br><span class="line">cd docker-test</span><br><span class="line">touch Dockerfile</span><br><span class="line">vim Dockerfile</span><br><span class="line"></span><br><span class="line"># copy-and-paste the follow content into the Dockerfile</span><br><span class="line">  # Use an official Python runtime as a parent image</span><br><span class="line">  FROM python:2.7-slim</span><br><span class="line"></span><br><span class="line">  # Set the working directory to /app</span><br><span class="line">  WORKDIR /app</span><br><span class="line"></span><br><span class="line">  # Copy the current directory contents into the container at /app</span><br><span class="line">  ADD . /app</span><br><span class="line"></span><br><span class="line">  # Install any needed packages specified in requirements.txt</span><br><span class="line">  RUN pip install --trusted-host pypi.python.org -r requirements.txt</span><br><span class="line"></span><br><span class="line">  # Make port 80 available to the world outside this container</span><br><span class="line">  EXPOSE 80</span><br><span class="line"></span><br><span class="line">  # Define environment variable</span><br><span class="line">  ENV NAME World</span><br><span class="line"></span><br><span class="line">  # Run app.py when the container launches</span><br><span class="line">  CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># create two more files, requirements.txt and app.py.</span><br><span class="line">requirements.txt</span><br><span class="line">  Flask</span><br><span class="line">  Redis</span><br><span class="line"></span><br><span class="line">app.py</span><br><span class="line">  from flask import Flask</span><br><span class="line">  from redis import Redis, RedisError</span><br><span class="line">  import os</span><br><span class="line">  import socket</span><br><span class="line"></span><br><span class="line">  # Connect to Redis</span><br><span class="line">  redis = Redis(host=&quot;redis&quot;, db=0, socket_connect_timeout=2, socket_timeout=2)</span><br><span class="line"></span><br><span class="line">  app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">  @app.route(&quot;/&quot;)</span><br><span class="line">  def hello():</span><br><span class="line">      try:</span><br><span class="line">          visits = redis.incr(&quot;counter&quot;)</span><br><span class="line">      except RedisError:</span><br><span class="line">          visits = &quot;&lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;&quot;</span><br><span class="line"></span><br><span class="line">      html = &quot;&lt;h3&gt;Hello &#123;name&#125;!&lt;/h3&gt;&quot; \</span><br><span class="line">              &quot;&lt;b&gt;Hostname:&lt;/b&gt; &#123;hostname&#125;&quot; \</span><br><span class="line">              &quot;&lt;b&gt;Visits:&lt;/b&gt; &#123;visits&#125;&quot;</span><br><span class="line">      return html.format(name=os.getenv(&quot;NAME&quot;, &quot;world&quot;), hostname=socket.gethostname(), visits=visits)</span><br><span class="line"></span><br><span class="line">  if __name__ == &quot;__main__&quot;:</span><br><span class="line">      app.run(host=&apos;0.0.0.0&apos;, port=80)</span><br></pre></td></tr></table></figure>
<h4 id="5-3-Build-and-run-the-app"><a href="#5-3-Build-and-run-the-app" class="headerlink" title="5.3 Build and run the app"></a>5.3 Build and run the app</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Creates a Docker image</span><br><span class="line">docker build -t friendlyhello .</span><br><span class="line">docker image ls</span><br><span class="line"></span><br><span class="line"># Run the app</span><br><span class="line">docker run -p 4000:80 friendlyhello</span><br><span class="line"></span><br><span class="line"># Run the app in the background, in detached mode:</span><br><span class="line">$ docker run -d -p 4000:80 friendlyhello</span><br><span class="line"></span><br><span class="line">Stop the process with the container id</span><br><span class="line">$ docker container stop 1fa4ab2cf395</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># visit the URL </span><br><span class="line">http://localhost:4000</span><br></pre></td></tr></table></figure>
<h4 id="5-4-Share-your-image"><a href="#5-4-Share-your-image" class="headerlink" title="5.4 Share your image"></a>5.4 Share your image</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Share your image</span><br><span class="line"># login in with your docker ID</span><br><span class="line">docker login</span><br><span class="line"></span><br><span class="line"># Tag the image</span><br><span class="line">docker tag image username/repository:tag</span><br><span class="line">docker tag friendlyhello ufresh/get-started:part2</span><br><span class="line"></span><br><span class="line"># Publish the image</span><br><span class="line">docker push username/repository:tag</span><br><span class="line"></span><br><span class="line"># Pull and run the image from the remote repository</span><br><span class="line">docker run -p 4000:80 username/repository:tag</span><br></pre></td></tr></table></figure>

    </div>
  </article>
    <!-- 
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>〈 </span>
          <a href="/2018/05/06/Date/" rel="next" title="Date">
          Date
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
        
          <a href="/2018/09/13/Git笔记/" rel="prev" title="Git命令">
            Git命令
          </a>
          <span>〉</span>
        
      </div>
    </div>
   -->
</div>


<script>
var link = document.getElementsByClassName('toc-link');
var hash = decodeURIComponent(location.hash);
if (hash){
} else {
  link[0].classList.add('toc-link-active');
}

var h3 = document.getElementsByTagName('h3');
var h4 = document.getElementsByTagName('h4');
var h5 = document.getElementsByTagName('h5');
var link_arr = [];
function addToArr(arr){
  for(var i = 0; i < arr.length; i++){
    link_arr.push(arr[i].offsetTop);
  }
}
addToArr(h3);
addToArr(h4);
addToArr(h5);


var compare = function (x, y) {
    if (x < y) {
        return -1;
    } else if (x > y) {
        return 1;
    } else {
        return 0;
    }
}

link_arr.sort(compare);


window.onscroll = function(){
  var height = document.documentElement.scrollTop;
  for (var i = 0; i < link_arr.length; i++){
    if (link_arr[i] > height){
      for(var j = 0; j < link.length; j++){
        link[j].classList.remove('toc-link-active');
      }
      document.getElementsByClassName('toc-link')[i].classList.add('toc-link-active');
      break;
    } 
  }
}

</script>
    </div>
  </div>
   

<script src="/js/pangu.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // listen to any DOM change and automatically perform spacing via MutationObserver()
    pangu.autoSpacingPage();
  });

  // window.addEventListener("load", event => {
  //   // 判断浏览器是否支持
  //   if ("serviceWorker" in navigator) {
  //     window.navigator.serviceWorker
  //       .register("/sw.js", {
  //         scope: "/"
  //       })
  //   }
  // });
</script>

</body>
</html>

